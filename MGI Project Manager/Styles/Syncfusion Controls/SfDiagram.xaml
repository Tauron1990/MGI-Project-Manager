<ResourceDictionary  
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:diagram="clr-namespace:Syncfusion.UI.Xaml.Diagram;assembly=Syncfusion.SfDiagram.WPF"
    xmlns:diagram_localControls="clr-namespace:Syncfusion.UI.Xaml.Diagram.Controls;assembly=Syncfusion.SfDiagram.WPF"
    xmlns:diagram_panels="clr-namespace:Syncfusion.UI.Xaml.Diagram.Panels;assembly=Syncfusion.SfDiagram.WPF"
    xmlns:diagram_util="clr-namespace:Syncfusion.UI.Xaml.Diagram.Utility;assembly=Syncfusion.SfDiagram.WPF"
    xmlns:diagram_printing="clr-namespace:Syncfusion.UI.Xaml.Diagram.Controls;assembly=Syncfusion.SfDiagram.WPF"
    xmlns:diagram_stencil="clr-namespace:Syncfusion.UI.Xaml.Diagram.Stencil;assembly=Syncfusion.SfDiagram.WPF"
    xmlns:sys="clr-namespace:System;assembly=mscorlib">

    <ResourceDictionary.MergedDictionaries>

</ResourceDictionary.MergedDictionaries>

<LinearGradientBrush x:Key="BackgroundBrush" StartPoint="0,0" EndPoint="1,1" ><GradientStop Color="#FFEEEEF2" Offset="0" /><GradientStop Color="#FFEEEEF2" Offset="1" /></LinearGradientBrush>
    <SolidColorBrush x:Key="BorderBrush" Color="#FFCCCEDB" />
	<SolidColorBrush x:Key="ForegroundBrush" Color="#FF404040" />
	<SolidColorBrush x:Key="GlyphBrush" Color="#FF404040" />
<LinearGradientBrush x:Key="HeaderBackgroundBrush" StartPoint="0,0" EndPoint="1,1" ><GradientStop Color="#FFEEEEF2" Offset="0" /><GradientStop Color="#FFEEEEF2" Offset="1" /></LinearGradientBrush>
    <SolidColorBrush x:Key="HeaderBorderBrush" Color="#FFCCCEDB" />
	<SolidColorBrush x:Key="HeaderForegroundBrush" Color="#FF404040" />
	<SolidColorBrush x:Key="HeaderGlyphBrush" Color="#FF404040" />
<LinearGradientBrush x:Key="HoverBackgroundBrush" StartPoint="0,0" EndPoint="1,1" ><GradientStop Color="#FF7FBCE5" Offset="0" /><GradientStop Color="#FF7FBCE5" Offset="1" /></LinearGradientBrush>
    <SolidColorBrush x:Key="HoverBorderBrush" Color="#FF7FBCE5" />
	<SolidColorBrush x:Key="HoverForegroundBrush" Color="#FF404040" />
	<SolidColorBrush x:Key="HoverGlyphBrush" Color="#FF404040" />
<LinearGradientBrush x:Key="ActiveBackgroundBrush" StartPoint="0,0" EndPoint="1,1" ><GradientStop Color="#FF007ACC" Offset="0" /><GradientStop Color="#FF007ACC" Offset="1" /></LinearGradientBrush>
    <SolidColorBrush x:Key="ActiveBorderBrush" Color="#FF007ACC" />
	<SolidColorBrush x:Key="ActiveForegroundBrush" Color="#FFFFFFFF" />
	<SolidColorBrush x:Key="ActiveGlyphBrush" Color="#FFFFFFFF" />
	<SolidColorBrush x:Key="ContentBackgroundBrush" Color="#FFF5F5F5" />
	<SolidColorBrush x:Key="ContentBorderBrush" Color="#FFCCCEDB" />
	<SolidColorBrush x:Key="ContentForegroundBrush" Color="#FF1E1E1E" />
	<SolidColorBrush x:Key="ContentSelectionBrush" Color="#FFA5A5A5" />
	<SolidColorBrush x:Key="SelectionInActiveBrush" Color="#FF99C9EA" />
	<SolidColorBrush x:Key="ErrorBrush" Color="#FFFF0000" />
	<SolidColorBrush x:Key="ActiveLightBackground" Color="#FF99C9EA" />
	<SolidColorBrush x:Key="ActiveDarkBackground" Color="#FF003D66" />
	<SolidColorBrush x:Key="ContentAlternativeBackground" Color="#FFDCDCDC" />
	<SolidColorBrush x:Key="TickColor" Color="#FFBCBCBC" />
	<SolidColorBrush x:Key="RangeColor1" Color="#FF61A301" />	
	<SolidColorBrush x:Key="RangeColor2" Color="#FFF2E606" />	
	<SolidColorBrush x:Key="RangeColor3" Color="#FFFF0000" />
	<SolidColorBrush x:Key="LightBackgroundBrush" Color="#FFDDDDE5" />


    <!--<ResourceDictionary.MergedDictionaries>-->
    <SolidColorBrush x:Key="PathStrokeThemeBrush" Color="Black" />
    <sys:Double x:Key="ConnectorThemeThickness">1</sys:Double>
    <sys:Double x:Key="ConnectorDecoratorThemeWidth">10</sys:Double>
    <sys:Double x:Key="ConnectorDecoratorThemeHeight">10</sys:Double>
    <sys:Double x:Key="PortThemeWidth">10</sys:Double>
    <sys:Double x:Key="PortThemeHeight">10</sys:Double>

    <!--<SolidColorBrush x:Key="SegementFillThemeBrush" Color="Gray"></SolidColorBrush>
    <SolidColorBrush x:Key="SegementStrokeThemeBrush" Color="Black"></SolidColorBrush>
    <SolidColorBrush x:Key="SymbolPressedBackgroundThemeBrush" Color="White"/>-->   
    
    <SolidColorBrush x:Key="ExpanderPathFillThemeBrush" Color="#333333"></SolidColorBrush>    

    <diagram_util:PathConverter x:Key="PathConverter"/>
    <diagram_util:InvertAngleConverter x:Key="InvertAngleConverter"/>
    <diagram_util:NulltoVisibilityConverter x:Key="NulltoVisibilityConverter"/>
    <diagram_util:NullToVisibityConverter x:Key="NullToVisibityConverter"/>
    <diagram_util:NullToBooleanConverter x:Key="NullToBooleanConverter"/>
    <diagram_util:VisibilityToBoolConverter x:Key="VisibilityToBoolConverter"/>


    <!--<Rotator>-->
    <SolidColorBrush x:Key="RotatorEllipseFillBrush" Color="#FF09388C" />
    <SolidColorBrush x:Key="RotatorEllipseStrokeBrush" Color="#4288DB" />
    <SolidColorBrush x:Key="RotatorThumbFillBrush" Color="White" />
    <!--<Pivot>-->
    <SolidColorBrush x:Key="OuterPivotThumbFillBrush" Color="#4288DB" />
    <SolidColorBrush x:Key="OuterPivotThumbStrokeBrush" Color="Transparent" />
    <SolidColorBrush x:Key="PivotThumbFillBrush" Color="White" />
    <SolidColorBrush x:Key="PivotThumbStrokeBrush" Color="#FF777F85" />

    <!--<Selector>-->
    <SolidColorBrush x:Key="SelectorGridBackgroundBrush" Color="Transparent" />
    <SolidColorBrush x:Key="SelectorBorderBackgroundBrush" Color="Black" />
    <SolidColorBrush x:Key="SelectorTextblockForegroundBrush" Color="White" />
    <!--<Stencil>-->
    <SolidColorBrush x:Key="SymbolFilterBackgroundBrush" Color="#ffffff" />
    <SolidColorBrush x:Key="SymbolFilterBorderBrush" Color="LightGray" />
    <SolidColorBrush x:Key="SymbolFilterTextblockForegroundBrush" Color="Black" />

    <!--<Stencil:Symbol>-->
    <SolidColorBrush x:Key="SymbolBorderBrush" Color="#FF7F7F7F" />
    <SolidColorBrush x:Key="SymbolBackgroundBrush" Color="#FFDDDDDD" />
    <!--<RuntimeConnectionIndicator>-->
    <SolidColorBrush x:Key="ConnectionIndicatorFillBrush" Color="#FF09388C" />

    <sys:Double x:Key="OuterPivotThumbStrokeThickness">8</sys:Double>
    <sys:Double x:Key="PivotThumbStrokeThickness">1</sys:Double>
    <Thickness x:Key="SymbolFilterBorderThickness">1</Thickness>
    <Thickness x:Key="SymbolBorderThickness">1</Thickness>
    <sys:Double x:Key="RotatorEllipseStrokeThickness">1.5</sys:Double>

    <!--<ScrollViewer>-->
    <SolidColorBrush x:Key="ScrollViewerBorderBrush" Color="Transparent"/>
    <SolidColorBrush x:Key="ScrollViewerBackgroundBrush" Color="Transparent"/>
    <Thickness x:Key="ScrollViewerBorderThickness">0</Thickness>
    <!--<DiagramThumb>-->

    <sys:Double x:Key="BezierthumbStrokeThickness">1</sys:Double>

    <SolidColorBrush x:Key="OrthogonalThumbBackgroundBrush" Color="Transparent"/>
    <SolidColorBrush x:Key="EndthumbFillBrush" Color="Transparent"/>
    <SolidColorBrush x:Key="EndthumbStrokeBrush" Color="#4288DB"/>
    <sys:Double x:Key="EndthumbStrokeThickness">1.1</sys:Double>
    <SolidColorBrush x:Key="DiagramThumbFillBrush" Color="Transparent"/>
    <SolidColorBrush x:Key="DiagramThumbStrokeBrush" Color="#4288DB"/>
    <sys:Double x:Key="DiagramThumbStrokeThickness">1.1</sys:Double>

    <!--<OverView>-->
    <SolidColorBrush x:Key="OverviewUnFocusBrush" Color="#22000000"/>
    <SolidColorBrush x:Key="OverviewBackgroundBrush" Color="White"/>
    <SolidColorBrush x:Key="OverviewResizerBackgroundBrush" Color="Red"/>
    <Thickness x:Key="OverviewResizerBorderThickness">0</Thickness>
    <!--<Printing>-->
    <SolidColorBrush x:Key="PrintBorderBackgroundBrush" Color="#FFEFEFEF"/>
    <SolidColorBrush x:Key="PrintPreviewForegroundBrush" Color="#3b78a8"/>
    <SolidColorBrush x:Key="PrintPreviewFillBrush" Color="Gray"/>
    <SolidColorBrush x:Key="PreviewBorderBrush" Color="#FFE0E0E0"/>
    <SolidColorBrush x:Key="PreviewBackgroundBrush" Color="White"/>
    <SolidColorBrush x:Key="PreviewStrokeBrush" Color="#FF9B9B9B"/>
    <sys:Double x:Key="PreviewStrokeThickness">1</sys:Double>
    <SolidColorBrush x:Key="PrintStretchForegroundBrush" Color="#3f4040"/>
    <SolidColorBrush x:Key="PrintStretchBackgroundBrush" Color="White"/>
    <SolidColorBrush x:Key="PrintStretchBorderBrush" Color="#FFE0E0E0"/>
    <SolidColorBrush x:Key="PrintButtonBackgroundBrush" Color="#3b78a8"/>
    <SolidColorBrush x:Key="PrintButtonForegroundBrush" Color="White"/>
    <SolidColorBrush x:Key="PrintButtonBorderBrush" Color="Transparent"/>

    <DataTemplate x:Key="SelectorThumbContentTemplate">
        <Path
                     StrokeThickness="1"
                     Width="20" Height="20"
                     Stretch="Uniform"
                     HorizontalAlignment="Center" VerticalAlignment="Center"
                     RenderTransformOrigin="0.5,0.5"
                    Fill="{Binding}"
                     Data="{Binding Path=Tag, RelativeSource={RelativeSource Mode=TemplatedParent}}">
        </Path>
    </DataTemplate>

    <Style TargetType="diagram:Node">
        <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
        <Setter Property="VerticalContentAlignment" Value="Stretch"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="diagram:Node">
                    <Border Background="{TemplateBinding Background}"
        BorderBrush="{TemplateBinding BorderBrush}"
        BorderThickness="{TemplateBinding BorderThickness}">
                        <Grid>
                            <Path x:Name="Path" Data="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=Shape, Converter={StaticResource PathConverter}}"
      RenderTransformOrigin="0.5,0.5"
      Style="{TemplateBinding ShapeStyle}"/>
                            <ContentPresenter Content="{TemplateBinding Content}" x:Name="ContentPresenter" RenderTransformOrigin="0.5,0.5"
                  HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                  VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                  ContentTemplate="{TemplateBinding  ContentTemplate}"/>
                            <diagram_panels:AnnotationPanel x:Name="PART_Annotations"/>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="diagram:PortBase">
        <Setter Property="ShapeStyle">
            <Setter.Value>
                <Style TargetType="Path">
                    <Setter Property="Stroke" Value="{StaticResource PathStrokeThemeBrush}"/>
                    <Setter Property="StrokeThickness" Value="{StaticResource ConnectorThemeThickness}"/>
                    <Setter Property="Width" Value="{StaticResource PortThemeWidth}"/>
                    <Setter Property="Height" Value="{StaticResource PortThemeHeight}"/>
                </Style>
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="diagram:PortBase">
                    <Border x:Name="port"
    Background="{TemplateBinding Background}"
    BorderBrush="{TemplateBinding BorderBrush}"
    BorderThickness="{TemplateBinding BorderThickness}">
                        <Grid>
                            <Path Data="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=Shape, Converter={StaticResource PathConverter}}"
        Style="{TemplateBinding ShapeStyle}"/>
                            <ContentPresenter Content="{TemplateBinding Content}"
HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
ContentTemplate="{TemplateBinding  ContentTemplate}"/>
                            <!--ContentTemplateSelector="{TemplateBinding  ContentTemplateSelector}"/>-->
                            <!--<Rectangle  Fill="LightSeaGreen" Stretch="Fill"></Rectangle>-->
                        </Grid>
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="State">
                                <VisualState x:Name="Collapse">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="port"
             Storyboard.TargetProperty="(UIElement.Visibility)">
                                            <DiscreteObjectKeyFrame KeyTime="0">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <Visibility>Collapsed</Visibility>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Visible">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="port"
             Storyboard.TargetProperty="(UIElement.Visibility)">
                                            <DiscreteObjectKeyFrame KeyTime="0">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <Visibility>Visible</Visibility>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="diagram:Connector">
        <Setter Property="ConnectorGeometryStyle">
            <Setter.Value>
                <Style TargetType="Path">
                    <Setter Property="Stroke" Value="{StaticResource PathStrokeThemeBrush}"/>
                    <Setter Property="StrokeThickness" Value="{StaticResource ConnectorThemeThickness}"/>
                </Style>
            </Setter.Value>
        </Setter>
        <Setter Property="SourceDecoratorStyle">
            <Setter.Value>
                <Style TargetType="Path">
                    <Setter Property="Stroke" Value="{StaticResource PathStrokeThemeBrush}"/>
                    <Setter Property="Fill" Value="{StaticResource PathStrokeThemeBrush}"/>
                    <Setter Property="StrokeThickness" Value="{StaticResource ConnectorThemeThickness}"/>
                    <Setter Property="Width" Value="{StaticResource ConnectorDecoratorThemeWidth}"/>
                    <Setter Property="Height" Value="{StaticResource ConnectorDecoratorThemeHeight}"/>
                </Style>
            </Setter.Value>
        </Setter>
        <Setter Property="TargetDecoratorStyle">
            <Setter.Value>
                <Style TargetType="Path">
                    <Setter Property="Stroke" Value="{StaticResource PathStrokeThemeBrush}"/>
                    <Setter Property="Fill" Value="{StaticResource PathStrokeThemeBrush}"/>
                    <Setter Property="StrokeThickness" Value="{StaticResource ConnectorThemeThickness}"/>
                    <Setter Property="Width" Value="{StaticResource ConnectorDecoratorThemeWidth}"/>
                    <Setter Property="Height" Value="{StaticResource ConnectorDecoratorThemeHeight}"/>
                </Style>
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="diagram:Connector">
                    <Border
    Background="{TemplateBinding Background}"
    BorderBrush="{TemplateBinding BorderBrush}"
    BorderThickness="{TemplateBinding BorderThickness}">
                        <Canvas>
                            <Path Style="{TemplateBinding ConnectorGeometryStyle}"
      Data="{TemplateBinding Geometry}"/>
                            <Path StrokeThickness="23" Stroke="Transparent"
      Data="{TemplateBinding TransparentGeometry}"/>
                            <Path x:Name="PART_SourceDecorator" Style="{TemplateBinding SourceDecoratorStyle}"
      Data="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=SourceDecorator, Converter={StaticResource PathConverter}}"/>
                            <Path x:Name="PART_TargetDecorator" Style="{TemplateBinding TargetDecoratorStyle}"
      Data="{Binding RelativeSource={RelativeSource Mode=TemplatedParent}, Path=TargetDecorator, Converter={StaticResource PathConverter}}"/>
                            <diagram_panels:AnnotationPanel x:Name="PART_Annotations">
                            </diagram_panels:AnnotationPanel>
                        </Canvas>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="diagram:Group">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="diagram:Group">
                    <Border
    Background="{TemplateBinding Background}"
    BorderBrush="{TemplateBinding BorderBrush}"
    BorderThickness="{TemplateBinding BorderThickness}">
                        <Grid>
                            <Canvas x:Name="PART_Ports">
                            </Canvas>
                            <diagram_panels:AnnotationPanel x:Name="PART_Annotations">
                            </diagram_panels:AnnotationPanel>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="RotatorThumbStyle" TargetType="diagram_localControls:DiagramThumb">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="diagram_localControls:DiagramThumb">
                    <Border
    Background="{TemplateBinding Background}"
    BorderBrush="{TemplateBinding BorderBrush}"
    BorderThickness="{TemplateBinding BorderThickness}" x:Name="thumb">
                        <Viewbox Height="28" Width="28">
                            <Grid>
                                <Path Data="F1M23.467,11.733C23.467,18.213 18.214,23.466 11.734,23.466 5.253,23.466 0,18.213 0,11.733 0,5.253 5.253,0 11.734,0 18.214,0 23.467,5.253 23.467,11.733" Fill="{StaticResource BackgroundBrush}" Stroke="{StaticResource BorderBrush}" StrokeThickness="{StaticResource RotatorEllipseStrokeThickness}" x:Name="ellipse"/>
                                <Path Data="F1M8.742,0.09C3.074,-0.833,0.251,5.588,2.862,9.789L0,10.473 5.867,12.979 5.93,6.6 4.124,9.021C2.064,5.932 3.923,1.747 7.943,1.531 12.885,1.265 14.062,7.847 10.435,10.353 9.644,10.898 10.394,12.199 11.191,11.648 15.964,8.351 14.603,1.045 8.742,0.09" Fill="{StaticResource ContentForegroundBrush}" Margin="3.632,5.515,4.552,4.485" Stretch="Fill" x:Name="ellipse1" UseLayoutRounding="False"/>
                            </Grid>
                        </Viewbox>
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="ThumbStates">
                                <VisualState x:Name="Normal"></VisualState>
                               <VisualState x:Name="PointerOver">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ellipse" Storyboard.TargetProperty="Fill">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource HoverBackgroundBrush}"/>
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ellipse" Storyboard.TargetProperty="Stroke">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource HoverBorderBrush}"/>
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ellipse1" Storyboard.TargetProperty="Fill">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource HoverGlyphBrush}"/>
                                        </ObjectAnimationUsingKeyFrames>                                       
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Pressed">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ellipse" Storyboard.TargetProperty="Fill">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ActiveBackgroundBrush}"/>
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ellipse" Storyboard.TargetProperty="Stroke">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ActiveBorderBrush}"/>
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ellipse1" Storyboard.TargetProperty="Fill">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ActiveGlyphBrush}"/>
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Disabled">
                                    <Storyboard>
                                        <ColorAnimationUsingKeyFrames Storyboard.TargetName="ellipse" Storyboard.TargetProperty="(Path.Fill).(SolidColorBrush.Color)">
                                            <DiscreteColorKeyFrame KeyTime="0" Value="Gray"/>
                                        </ColorAnimationUsingKeyFrames>
                                        <ColorAnimationUsingKeyFrames Storyboard.TargetName="ellipse" Storyboard.TargetProperty="(Path.Stroke).(SolidColorBrush.Color)">
                                            <DiscreteColorKeyFrame KeyTime="0" Value="Gray"/>
                                        </ColorAnimationUsingKeyFrames>
                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" Storyboard.TargetName="thumb"
                                   To="1" Duration="0"></DoubleAnimation>
                                    </Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="PivotThumbStyle" TargetType="diagram_localControls:DiagramThumb">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="diagram_localControls:DiagramThumb">
                    <Border
    Background="{TemplateBinding Background}"
    BorderBrush="{TemplateBinding BorderBrush}"
    BorderThickness="{TemplateBinding BorderThickness}" Width="25" Height="25" RenderTransformOrigin="0.5,0.5" Opacity="0.6" x:Name="thumb">

                        <Border.RenderTransform>
                            <ScaleTransform></ScaleTransform>
                        </Border.RenderTransform>
                        <Grid>
                            <Ellipse Fill="{StaticResource OuterPivotThumbFillBrush}"  StrokeThickness="{StaticResource OuterPivotThumbStrokeThickness}" Stroke="{StaticResource OuterPivotThumbStrokeBrush}" Name="OuterEllipse"></Ellipse>
                            <Ellipse Fill="{StaticResource BackgroundBrush}" Margin="5" Name="ellipse"/>
                            <Ellipse Margin="13" Fill="{StaticResource PivotThumbFillBrush}" Stroke="{StaticResource PivotThumbStrokeBrush}" StrokeThickness="{StaticResource PivotThumbStrokeThickness}" />
                        </Grid>
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="ThumbStates">
                                <VisualState x:Name="Normal">
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" Storyboard.TargetName="thumb"
                                     To="0.6" Duration="0"></DoubleAnimation>
                                        <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)" To="1"
                                     Storyboard.TargetName="thumb" Duration="0"></DoubleAnimation>
                                        <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" To="1"
                                     Storyboard.TargetName="thumb" Duration="0"></DoubleAnimation>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Pressed">
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" Storyboard.TargetName="thumb"
                                     To="0.9" Duration="0"></DoubleAnimation>
                                        <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)" To="1.5"
                                     Storyboard.TargetName="thumb" Duration="0"></DoubleAnimation>
                                        <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" To="1.5"
                                     Storyboard.TargetName="thumb" Duration="0"></DoubleAnimation>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Disabled">
                                    <Storyboard>
                                        <ColorAnimationUsingKeyFrames Storyboard.TargetName="ellipse" Storyboard.TargetProperty="(Ellipse.Fill).(SolidColorBrush.Color)">
                                            <DiscreteColorKeyFrame KeyTime="0" Value="Gray"/>
                                        </ColorAnimationUsingKeyFrames>
                                        <ColorAnimationUsingKeyFrames Storyboard.TargetName="OuterEllipse" Storyboard.TargetProperty="(Ellipse.Fill).(SolidColorBrush.Color)">
                                            <DiscreteColorKeyFrame KeyTime="0" Value="Gray"/>
                                        </ColorAnimationUsingKeyFrames>
                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" Storyboard.TargetName="thumb"
                 To="1" Duration="0"></DoubleAnimation>
                                    </Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="SelectorCommandButtonStyle" TargetType="diagram_localControls:DiagramThumb">
        <Setter Property="Foreground" Value="{StaticResource ContentForegroundBrush}"/>
        <Setter Property="FontFamily" Value="Segoe UI Symbol"/>
        <Setter Property="FontWeight" Value="Normal"/>
        <Setter Property="FontSize" Value="20"/>
        <!--<Setter Property="AutomationProperties.ItemType" Value="App Bar Button"/>-->
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="diagram_localControls:DiagramThumb">
                    <Border x:Name="thumb"
        BorderBrush="{TemplateBinding BorderBrush}"
        BorderThickness="{TemplateBinding BorderThickness}">
                        <Grid x:Name="RootGrid" Background="Transparent">
                            <Path Data="F1M23.467,11.733C23.467,18.213 18.214,23.466 11.734,23.466 5.253,23.466 0,18.213 0,11.733 0,5.253 5.253,0 11.734,0 18.214,0 23.467,5.253 23.467,11.733" Fill="{StaticResource BackgroundBrush}" Stroke="{StaticResource BorderBrush}" StrokeThickness="{StaticResource RotatorEllipseStrokeThickness}" Stretch="Fill" x:Name="BackgroundGlyph"/>
                            <!--<TextBlock x:Name="BackgroundGlyph" Text="&#x25CF;" 
           FontFamily="Segoe UI Symbol" FontSize="53.333" Margin="-4,-19,0,0" Foreground="{TemplateBinding Background}"/>-->
                            <ContentPresenter
    HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
    VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
    ContentTemplate="{StaticResource SelectorThumbContentTemplate}"  Content="{TemplateBinding Foreground}" Tag="{TemplateBinding Tag}"
    x:Name="Content"/>
                        </Grid>
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualState x:Name="Normal"/>
                               <VisualState x:Name="PointerOver">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="BackgroundGlyph" Storyboard.TargetProperty="Fill">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource HoverBackgroundBrush}"/>
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="BackgroundGlyph" Storyboard.TargetProperty="Stroke">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource HoverBorderBrush}"/>
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Content" Storyboard.TargetProperty="Content">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource HoverGlyphBrush}"/>
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Pressed">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="BackgroundGlyph" Storyboard.TargetProperty="Fill">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ActiveBackgroundBrush}"/>
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="BackgroundGlyph" Storyboard.TargetProperty="Stroke">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ActiveBorderBrush}"/>
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Content" Storyboard.TargetProperty="Content">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ActiveGlyphBrush}"/>
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="diagram:Selector">
        <Setter Property="TooltipTemplate">
            <Setter.Value>
                <DataTemplate>
                    <Grid Background="{StaticResource SelectorGridBackgroundBrush}" Margin="-75" HorizontalAlignment="Center" VerticalAlignment="Top">
                        <Border Background="{StaticResource ContentBackgroundBrush}" BorderThickness="1" BorderBrush="{StaticResource ContentBorderBrush}" Opacity="0.8">
                            <TextBlock Margin="10" Text="{Binding TooltipContent}" Foreground="{StaticResource ContentForegroundBrush}" FontSize="14"/>
                        </Border>
                    </Grid>
                </DataTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="diagram:Selector">
                    <Border
    Background="{TemplateBinding Background}"
    BorderBrush="{TemplateBinding BorderBrush}"
    BorderThickness="{TemplateBinding BorderThickness}">
                        <diagram_panels:SelectorPanel x:Name="PART_SelectorPanel">
                            <diagram_panels:SelectorPanel.Resources>
                                <Style x:Key="pathStyle" TargetType="Shape">
                                    <Setter Property="StrokeThickness" Value="1"/>
                                    <Setter Property="Stroke" Value="{StaticResource PathStrokeThemeBrush}"/>
                                </Style>
                            </diagram_panels:SelectorPanel.Resources>
                            <Grid  Opacity="0.8" Visibility="{TemplateBinding TooltipVisibility}"  Background="Transparent">
                                <ContentPresenter Content="{Binding}" ContentTemplate="{TemplateBinding TooltipTemplate}"/>
                            </Grid>

                            <Grid Margin="-70" Visibility="{Binding SelectorConstraints, Converter={StaticResource NulltoVisibilityConverter},ConverterParameter=QuickCommands}">

                                <diagram_localControls:DiagramThumb BorderThickness="0" RenderTransformOrigin="0.5,0.5"
        HorizontalContentAlignment="Center" Width="40" Height="40"
        VerticalContentAlignment="Center"  HorizontalAlignment="Center" x:Name="DeleteCommandThumb"
        VerticalAlignment="Bottom" Command ="{Binding DiagramCommands.Delete, RelativeSource={RelativeSource Mode=TemplatedParent}}"
        Style="{StaticResource SelectorCommandButtonStyle}"
        Background="{StaticResource BorderBrush}"
        Tag="F1M377.5879,673.9355L376.1439,675.4095L369.8539,668.9945L363.5639,675.4095L362.1189,673.9355L368.4079,667.5205L362.1189,661.1035L363.5639,659.6295L369.8539,666.0465L376.1439,659.6295L377.5879,661.1035L371.2989,667.5205z"
                                                            >
                                    <diagram_localControls:DiagramThumb.RenderTransform>
                                        <RotateTransform Angle="{Binding Path=RenderTransform.Rotation,
                                                                RelativeSource={RelativeSource Mode=TemplatedParent},
                                                                Converter={StaticResource InvertAngleConverter}}"/>
                                    </diagram_localControls:DiagramThumb.RenderTransform>
                                </diagram_localControls:DiagramThumb>

                                <diagram_localControls:DiagramThumb BorderThickness="0"
        HorizontalContentAlignment="Center" x:Name="DuplicateCommandThumb" RenderTransformOrigin="0.5,0.5"
        VerticalContentAlignment="Center"  HorizontalAlignment="Right"
        VerticalAlignment="Bottom" Command="{Binding DiagramCommands.Duplicate, RelativeSource={RelativeSource Mode=TemplatedParent}}"
                                            DragCommand="{Binding DiagramCommands.Duplicate, RelativeSource={RelativeSource Mode=TemplatedParent}}"
        Style="{StaticResource SelectorCommandButtonStyle}"
                                            Background="{StaticResource BorderBrush}" Width="40" Height="40"
                                            Tag="M13.671994,14.169995 L1.0569996,14.169995 1.0569996,3.6649869 1.8049993,3.6649869 1.8049993,2.609986 0,2.609986 0,15.224996 14.724994,15.224996 14.724994,13.377994 13.671994,13.377994 z M2.6349954,12.613986 L17.358003,12.613986 17.358003,1.323489E-23 2.6349954,1.323489E-23 z"
                                                            >
                                    <diagram_localControls:DiagramThumb.RenderTransform>
                                        <RotateTransform Angle="{Binding Path=RenderTransform.Rotation,
                                                                RelativeSource={RelativeSource Mode=TemplatedParent},
                                                                Converter={StaticResource InvertAngleConverter}}"/>
                                    </diagram_localControls:DiagramThumb.RenderTransform>
                                </diagram_localControls:DiagramThumb>

                                <diagram_localControls:DiagramThumb BorderThickness="0" RenderTransformOrigin="0.5,0.5"
        HorizontalContentAlignment="Center"
        VerticalContentAlignment="Center"  HorizontalAlignment="Right" x:Name="DrawCommandThumb"
        VerticalAlignment="Center" DragCommand="{Binding DiagramCommands.Draw, RelativeSource={RelativeSource Mode=TemplatedParent}}"
    Style="{StaticResource SelectorCommandButtonStyle}"
                                            Background="{StaticResource BorderBrush}" Width="40" Height="40"
                                            Tag="F1M423.144,677.5312L423.144,671.2692L410.147,671.2692L410.147,666.4982L423.144,666.4982L423.144,661.0822L431.368,669.3062z"
                                                            >
                                    <diagram_localControls:DiagramThumb.RenderTransform>
                                        <RotateTransform Angle="{Binding Path=RenderTransform.Rotation,
                                                                RelativeSource={RelativeSource Mode=TemplatedParent},
                                                                Converter={StaticResource InvertAngleConverter}}"/>
                                    </diagram_localControls:DiagramThumb.RenderTransform>
                                </diagram_localControls:DiagramThumb>
                            </Grid>
                            <ContentPresenter Content="{TemplateBinding Content}" ContentTemplate="{TemplateBinding ContentTemplate}"/>
                            <Rectangle Style="{StaticResource pathStyle}" Stretch="Fill" StrokeDashArray="2, 2"></Rectangle>
                            <Line X1="0" X2="0" Y1="0" Y2="0" Visibility="{Binding SelectorConstraints, Converter={StaticResource NulltoVisibilityConverter},ConverterParameter=Rotator}" StrokeDashArray="2, 2" Style="{StaticResource pathStyle}"/>
                            <diagram_localControls:DiagramThumb  x:Name="PART_TopLeft" HorizontalAlignment="Left" VerticalAlignment="Top" Visibility="{Binding SelectorConstraints, Converter={StaticResource NulltoVisibilityConverter},ConverterParameter=Resize}"/>
                            <diagram_localControls:DiagramThumb  x:Name="PART_Top" HorizontalAlignment="Center" VerticalAlignment="Top" Visibility="{Binding SelectorConstraints, Converter={StaticResource NulltoVisibilityConverter},ConverterParameter=Resize}"/>
                            <diagram_localControls:DiagramThumb x:Name="PART_TopRight" HorizontalAlignment="Right" VerticalAlignment="Top" Visibility="{Binding SelectorConstraints, Converter={StaticResource NulltoVisibilityConverter},ConverterParameter=Resize}"/>
                            <diagram_localControls:DiagramThumb  x:Name="PART_Left" HorizontalAlignment="Left" VerticalAlignment="Center" Visibility="{Binding SelectorConstraints, Converter={StaticResource NulltoVisibilityConverter},ConverterParameter=Resize}" />
                            <diagram_localControls:DiagramThumb  x:Name="PART_Right" HorizontalAlignment="Right" VerticalAlignment="Center" Visibility="{Binding SelectorConstraints, Converter={StaticResource NulltoVisibilityConverter},ConverterParameter=Resize}"/>
                            <diagram_localControls:DiagramThumb x:Name="PART_BottomLeft" HorizontalAlignment="Left" VerticalAlignment="Bottom" Visibility="{Binding SelectorConstraints, Converter={StaticResource NulltoVisibilityConverter},ConverterParameter=Resize}"/>
                            <diagram_localControls:DiagramThumb  x:Name="PART_Bottom" HorizontalAlignment="Center" VerticalAlignment="Bottom" Visibility="{Binding SelectorConstraints, Converter={StaticResource NulltoVisibilityConverter},ConverterParameter=Resize}"/>
                            <diagram_localControls:DiagramThumb x:Name="PART_BottomRight" HorizontalAlignment="Right" VerticalAlignment="Bottom" Visibility="{Binding SelectorConstraints, Converter={StaticResource NulltoVisibilityConverter},ConverterParameter=Resize}"/>
                            <diagram_localControls:DiagramThumb Style="{StaticResource PivotThumbStyle}" x:Name="PART_Pivot" Visibility="Collapsed"/>
                            <diagram_localControls:DiagramThumb Style="{StaticResource RotatorThumbStyle}" x:Name="PART_Rotator" Visibility="{Binding SelectorConstraints, Converter={StaticResource NulltoVisibilityConverter},ConverterParameter=Rotator}" />
                        </diagram_panels:SelectorPanel>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="diagram_stencil:Stencil">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="diagram_stencil:Stencil">
                    <Border
    Background="{TemplateBinding Background}"
    BorderBrush="{TemplateBinding BorderBrush}"
    BorderThickness="{TemplateBinding BorderThickness}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"></RowDefinition>
                                <RowDefinition Height="*"></RowDefinition>
                            </Grid.RowDefinitions>
                            <Border>
                                <ComboBox Padding="10" IsEnabled="{Binding Path=SymbolFilters, RelativeSource={RelativeSource TemplatedParent},Converter={StaticResource NullToBooleanConverter}}"
                          Visibility="{Binding RelativeSource={RelativeSource TemplatedParent},Converter={StaticResource NullToVisibityConverter}}"
                          Background="{StaticResource SymbolFilterBackgroundBrush}" BorderBrush="{StaticResource SymbolFilterBorderBrush}" BorderThickness="{StaticResource SymbolFilterBorderThickness}"
          HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
          ItemsSource="{TemplateBinding SymbolFilters}"
          SelectedItem="{Binding Path=SelectedFilter, RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay}">
                                    <ComboBox.ItemTemplate>
                                        <DataTemplate>
                                            <TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" Margin="5,0,0,0" Foreground="{StaticResource SymbolFilterTextblockForegroundBrush}" Text="{Binding Content}" />
                                        </DataTemplate>
                                    </ComboBox.ItemTemplate>
                                </ComboBox>
                            </Border>
                            <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                                <diagram_stencil:SymbolGroup ItemsSource="{TemplateBinding SymbolGroup}">
                                    <diagram_stencil:SymbolGroup.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <StackPanel/>
                                        </ItemsPanelTemplate>
                                    </diagram_stencil:SymbolGroup.ItemsPanel>
                                    <diagram_stencil:SymbolGroup.HeaderTemplate>
                                        <DataTemplate/>
                                    </diagram_stencil:SymbolGroup.HeaderTemplate>
                                    <diagram_stencil:SymbolGroup.Template>
                                        <ControlTemplate TargetType="diagram_stencil:SymbolGroup">
                                            <Border
              Background="{TemplateBinding Background}"
              BorderBrush="{TemplateBinding BorderBrush}"
              BorderThickness="{TemplateBinding BorderThickness}">
                                                <ItemsPresenter/>
                                            </Border>
                                        </ControlTemplate>
                                    </diagram_stencil:SymbolGroup.Template>
                                </diagram_stencil:SymbolGroup>
                            </ScrollViewer>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="diagram_stencil:Symbol">
        <Setter Property="BorderThickness" Value="{StaticResource SymbolBorderThickness}"/>
        <Setter Property="BorderBrush" Value="{StaticResource SymbolBorderBrush}"/>
        <Setter Property="Background" Value="{StaticResource SymbolBackgroundBrush}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="diagram_stencil:Symbol">
                    <Grid Background="Transparent">
                        <Border x:Name="symbolborder"
  Padding="{TemplateBinding Padding}"
  Background="{TemplateBinding Background}"
  BorderBrush="{TemplateBinding BorderBrush}"
  BorderThickness="{TemplateBinding BorderThickness}">
                            <ContentPresenter Content="{TemplateBinding Content}"
  ContentTemplate="{TemplateBinding ContentTemplate}"/>
                        </Border>
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualState x:Name="Normal">
                                </VisualState>
                                <VisualState x:Name="PointerOver">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="symbolborder" Storyboard.TargetProperty="Background.(SolidColorBrush.Color)">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource HoverBackgroundBrush}"/>
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Pressed">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="symbolborder" Storyboard.TargetProperty="Background.(SolidColorBrush.Color)">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ActiveBackgroundBrush}"/>
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="diagram_localControls:AnnotationEditor">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="diagram_localControls:AnnotationEditor">
                    <Border
    Background="{TemplateBinding Background}"
    BorderBrush="{TemplateBinding BorderBrush}"
    BorderThickness="{TemplateBinding BorderThickness}">
                        <Grid>
                            <ContentPresenter x:Name="PART_ContentPresenter" Content="{Binding}"/>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="diagram_localControls:Ruler">
        <Setter Property="Foreground" Value="{StaticResource TickColor}"/>
        <Setter Property="Background" Value="{StaticResource ContentAlternativeBackground}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="diagram_localControls:Ruler">
                    <Border BorderBrush="{TemplateBinding BorderBrush}"
        BorderThickness="{TemplateBinding BorderThickness}"
        Background="{TemplateBinding Background}">
                        <Canvas x:Name="Part_RulerPanel">
                        </Canvas>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="diagram_localControls:RulerSegment">
        <Setter Property="UseLayoutRounding" Value="True"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="diagram_localControls:RulerSegment">
                    <Canvas x:Name="Part_RulerSegmentPanel">
                        <Canvas.Resources>
                            <diagram_localControls:LabelConverter x:Key="LabelConverter"/>
                        </Canvas.Resources>
                        <TextBlock x:Name="PART_Label" Padding="0"
           Text="{Binding Path=StartValue, 
                                                  RelativeSource={RelativeSource Mode=TemplatedParent}, 
                                                  Converter={StaticResource LabelConverter}}"/>
                    </Canvas>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="diagram_localControls:RunTimeConnectionIndicator">
        <Setter Property="Width" Value="100"></Setter>
        <Setter Property="Height" Value="100"></Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="diagram_localControls:RunTimeConnectionIndicator">
                    <Grid>
                        <Path x:Name="path0" Data="F1M311.832,302.7778L278.832,302.7778L278.832,316.4448L311.832,316.4448L311.832,349.4448L325.498,349.4448L325.498,316.4448L325.498,302.7778z"
                  Fill="{StaticResource ConnectionIndicatorFillBrush}" Height="30" Stretch="Fill" VerticalAlignment="Bottom" HorizontalAlignment="Left" Width="30" RenderTransformOrigin="0.5,0.5">
                            <Path.RenderTransform>
                                <TranslateTransform/>
                            </Path.RenderTransform>
                        </Path>
                        <Path x:Name="path1" Data="F1M386.502,302.7778L353.502,302.7778L339.836,302.7778L339.836,316.4448L339.836,349.4448L353.502,349.4448L353.502,316.4448L386.502,316.4448z"
                  Fill="{StaticResource ConnectionIndicatorFillBrush}" Height="30" Stretch="Fill" Width="30" HorizontalAlignment="Right"  VerticalAlignment="Bottom" RenderTransformOrigin="0.5,0.5">
                            <Path.RenderTransform>
                                <TranslateTransform/>
                            </Path.RenderTransform>
                        </Path>
                        <Path x:Name="path2" Data="F1M311.832,242.105L311.832,275.105L278.832,275.105L278.832,288.772L311.832,288.772L325.498,288.772L325.498,275.105L325.498,242.105z"
                  Fill="{StaticResource ConnectionIndicatorFillBrush}" Height="30" Stretch="Fill"  VerticalAlignment="Top" HorizontalAlignment="Left" Width="30" RenderTransformOrigin="0.5,0.5">
                            <Path.RenderTransform>
                                <TranslateTransform/>
                            </Path.RenderTransform>
                        </Path>
                        <Path x:Name="path3" Data="F1M353.502,275.105L353.502,242.105L339.836,242.105L339.836,275.105L339.836,288.772L353.502,288.772L386.502,288.772L386.502,275.105z"
                  Fill="{StaticResource ConnectionIndicatorFillBrush}" Height="30" Stretch="Fill" Width="30" HorizontalAlignment="Right" VerticalAlignment="Top" RenderTransformOrigin="0.5,0.5">
                            <Path.RenderTransform>
                                <TranslateTransform/>
                            </Path.RenderTransform>
                        </Path>
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="connectionIndication">
                                <VisualState x:Name="Connecting">
                                    <Storyboard RepeatBehavior="Forever">
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)" Storyboard.TargetName="path0">
                                            <EasingDoubleKeyFrame KeyTime="0" Value="-30"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.4" Value="18"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.7" Value="20"/>
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.Y)" Storyboard.TargetName="path0">
                                            <EasingDoubleKeyFrame KeyTime="0" Value="30"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.4" Value="-19"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.7" Value="-21"/>
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)" Storyboard.TargetName="path1">
                                            <EasingDoubleKeyFrame KeyTime="0" Value="30"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.4" Value="-19"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.7" Value="-21"/>
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.Y)" Storyboard.TargetName="path1">
                                            <EasingDoubleKeyFrame KeyTime="0" Value="30"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.4" Value="-19"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.7" Value="-21"/>
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)" Storyboard.TargetName="path2">
                                            <EasingDoubleKeyFrame KeyTime="0" Value="-30"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.4" Value="18"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.7" Value="20"/>
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.Y)" Storyboard.TargetName="path2">
                                            <EasingDoubleKeyFrame KeyTime="0" Value="-30"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.4" Value="18"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.7" Value="20"/>
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)" Storyboard.TargetName="path3">
                                            <EasingDoubleKeyFrame KeyTime="0" Value="30"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.4" Value="-19"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.7" Value="-21"/>
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.Y)" Storyboard.TargetName="path3">
                                            <EasingDoubleKeyFrame KeyTime="0" Value="-30"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.4" Value="18"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.7" Value="20"/>
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="path0">
                                            <EasingDoubleKeyFrame KeyTime="0" Value="0"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.4" Value="1"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.7" Value="0"/>
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="path1">
                                            <EasingDoubleKeyFrame KeyTime="0" Value="0"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.4" Value="1"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.7" Value="0"/>
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="path2">
                                            <EasingDoubleKeyFrame KeyTime="0" Value="0"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.4" Value="1"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.7" Value="0"/>
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="path3">
                                            <EasingDoubleKeyFrame KeyTime="0" Value="0"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.4" Value="1"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.7" Value="0"/>
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Normal">
                                    <Storyboard></Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="diagram:SfDiagram">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="diagram:SfDiagram">
                    <Border
      diagram_util:FocusUtility.FocusOnLoad="False"
      Background="{TemplateBinding Background}"
      BorderBrush="{TemplateBinding BorderBrush}"
      BorderThickness="{TemplateBinding BorderThickness}">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <!--<Ruler/>-->
                            <Canvas x:Name="InVisibleCanvas" Opacity="0" Width="0" Height="0"/>
                            <ContentPresenter  HorizontalAlignment="Left" VerticalAlignment="Top" Grid.RowSpan="2" Grid.ColumnSpan="2" x:Name="PART_Preview"/>
                            <Rectangle Fill="{StaticResource ContentAlternativeBackground}"/>
                            <ContentPresenter Grid.Row="0" Grid.Column="1" Content="{TemplateBinding HorizontalRuler}"/>
                            <ContentPresenter Grid.Row="1" Grid.Column="0" Content="{TemplateBinding VerticalRuler}"/>
                            <Rectangle Grid.Row="1" Grid.Column="1" x:Name="PART_Background"/>
                            <diagram_localControls:ScrollViewer x:Name="Part_Scrollviewer" Grid.Row="1" Grid.Column="1" Page="{TemplateBinding Page}"
                                         >
                                <!--<Grid>-->
                                <!-- <Background/> -->
                                <!-- <GridLines/> -->
                                <!--<diagram_localControls:ZoomPanControl Grid.Row="1" Grid.Column="1" Background="Transparent">-->
                                <!--<Canvas>
                                        <ContentPresenter x:Name="PART_ContentPresenter" Content="{TemplateBinding Page}"/>
                                    </Canvas>-->
                                <!--</diagram_localControls:ZoomPanControl>-->
                                <!-- <Adorner/> -->
                                <!--</Grid>-->
                            </diagram_localControls:ScrollViewer>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="Background" Value="{StaticResource ContentBackgroundBrush}"></Setter>
    </Style>

   <Style TargetType="diagram_localControls:DiagramThumb">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="diagram_localControls:DiagramThumb">
                    <Border x:Name="thumb"
    Background="{TemplateBinding Background}"
    BorderBrush="{TemplateBinding BorderBrush}"
    BorderThickness="{TemplateBinding BorderThickness}" Opacity="0.6" Width="25" Height="25"
        RenderTransformOrigin="0.5,0.5">
                        <Border.RenderTransform>
                            <ScaleTransform></ScaleTransform>
                        </Border.RenderTransform>
                        <Grid>
                            <Ellipse Fill="{StaticResource DiagramThumbFillBrush}"></Ellipse>
                            <Ellipse x:Name="ellipse" Fill="{StaticResource BackgroundBrush}" Stroke="{StaticResource BorderBrush}" StrokeThickness="{StaticResource DiagramThumbStrokeThickness}" Margin="4"/>
                        </Grid>
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="ThumbStates">
                                <VisualState x:Name="Normal">
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" Storyboard.TargetName="thumb"
                                     To="0.8" Duration="0"></DoubleAnimation>
                                        <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)" To="1"
                                     Storyboard.TargetName="thumb" Duration="0"></DoubleAnimation>
                                        <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" To="1"
                                     Storyboard.TargetName="thumb" Duration="0"></DoubleAnimation>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="PointerOver">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ellipse" Storyboard.TargetProperty="Fill">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource HoverBackgroundBrush}"/>
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ellipse" Storyboard.TargetProperty="Stroke">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource HoverBorderBrush}"/>
                                        </ObjectAnimationUsingKeyFrames>
                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" Storyboard.TargetName="thumb"
                                     To="1" Duration="0"></DoubleAnimation>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Pressed">
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" Storyboard.TargetName="thumb"
                                     To="0.9" Duration="0"></DoubleAnimation>
                                        <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)" To="1.5"
                                     Storyboard.TargetName="thumb" Duration="0"></DoubleAnimation>
                                        <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" To="1.5"
                                     Storyboard.TargetName="thumb" Duration="0"></DoubleAnimation>

                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ellipse" Storyboard.TargetProperty="Fill">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ActiveBackgroundBrush}"/>
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ellipse" Storyboard.TargetProperty="Stroke">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ActiveBorderBrush}"/>
                                        </ObjectAnimationUsingKeyFrames>
                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" Storyboard.TargetName="thumb"
                                     To="1" Duration="0"></DoubleAnimation>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Disabled">
                                    <Storyboard>
                                        <ColorAnimationUsingKeyFrames Storyboard.TargetName="ellipse" Storyboard.TargetProperty="(Ellipse.Fill).(SolidColorBrush.Color)">
                                            <DiscreteColorKeyFrame KeyTime="0" Value="Gray"/>
                                        </ColorAnimationUsingKeyFrames>
                                        <ColorAnimationUsingKeyFrames Storyboard.TargetName="ellipse" Storyboard.TargetProperty="(Ellipse.Stroke).(SolidColorBrush.Color)">
                                            <DiscreteColorKeyFrame KeyTime="0" Value="Gray"/>
                                        </ColorAnimationUsingKeyFrames>
                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" Storyboard.TargetName="thumb"
                                     To="1" Duration="0"></DoubleAnimation>
                                    </Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <Trigger Property="ThumbType" Value="Orthogonal">
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="diagram_localControls:DiagramThumb">
                            <Border x:Name="thumb"
    Background="{TemplateBinding Background}"
    BorderBrush="{TemplateBinding BorderBrush}"
    BorderThickness="{TemplateBinding BorderThickness}" Opacity="0.6"
      RenderTransformOrigin="0.5,0.5">
                                <Border.RenderTransform>
                                    <ScaleTransform></ScaleTransform>
                                </Border.RenderTransform>
                                <Grid>
                                    <Border Background="{StaticResource OrthogonalThumbBackgroundBrush}">
                                        <Path x:Name="ellipse" Data="F1M394.0391,414.7725L412.0391,421.7725L394.0391,428.7725L376.0391,421.7725z"
                                              Fill="{StaticResource BackgroundBrush}" Stretch="Fill" 
                                              Stroke="{StaticResource BorderBrush}" />
                                    </Border>
                                </Grid>
                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroup x:Name="ThumbStates">
                                        <VisualState x:Name="Normal">
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetProperty="Opacity" Storyboard.TargetName="thumb"
                                   To="0.6" Duration="0"></DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)" To="1"
                                   Storyboard.TargetName="thumb" Duration="0"></DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" To="1"
                                   Storyboard.TargetName="thumb" Duration="0"></DoubleAnimation>
                                            </Storyboard>
                                        </VisualState>

                                        <VisualState x:Name="PointerOver">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ellipse" Storyboard.TargetProperty="Fill">
                                                    <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource HoverBackgroundBrush}"/>
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ellipse" Storyboard.TargetProperty="Stroke">
                                                    <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource HoverBorderBrush}"/>
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>

                                        <VisualState x:Name="Pressed">
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetProperty="Opacity" Storyboard.TargetName="thumb"
                                   To="0.9" Duration="0"></DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)" To="1.3"
                                   Storyboard.TargetName="thumb" Duration="0"></DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" To="1.3"
                                   Storyboard.TargetName="thumb" Duration="0"></DoubleAnimation>

                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ellipse" Storyboard.TargetProperty="Fill">
                                                    <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ActiveBackgroundBrush}"/>
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ellipse" Storyboard.TargetProperty="Stroke">
                                                    <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ActiveBorderBrush}"/>
                                                </ObjectAnimationUsingKeyFrames>

                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="Disabled">
                                            <Storyboard>
                                                <ColorAnimationUsingKeyFrames Storyboard.TargetName="ellipse" Storyboard.TargetProperty="Fill">
                                                    <DiscreteColorKeyFrame KeyTime="0" Value="Gray"/>
                                                </ColorAnimationUsingKeyFrames>
                                                <ColorAnimationUsingKeyFrames Storyboard.TargetName="ellipse" Storyboard.TargetProperty="Stroke">
                                                    <DiscreteColorKeyFrame KeyTime="0" Value="Gray"/>
                                                </ColorAnimationUsingKeyFrames>
                                                <DoubleAnimation Storyboard.TargetProperty="Opacity" Storyboard.TargetName="thumb"
                                     To="1" Duration="0"></DoubleAnimation>
                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                </VisualStateManager.VisualStateGroups>
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Trigger>

            <Trigger Property="ThumbType" Value="Bezier">
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="diagram_localControls:DiagramThumb">
                            <Border x:Name="thumb"
    Background="{TemplateBinding Background}"
    BorderBrush="{TemplateBinding BorderBrush}"
    BorderThickness="{TemplateBinding BorderThickness}" Opacity="0.6" Width="23" Height="23"
      RenderTransformOrigin="0.5,0.5">
                                <Border.RenderTransform>
                                    <ScaleTransform></ScaleTransform>
                                </Border.RenderTransform>
                                <Grid>
                                    <Ellipse Fill="Transparent"></Ellipse>
                                    <Ellipse x:Name="ellipse" Fill="{StaticResource BackgroundBrush}" 
                                             Stroke="{StaticResource BorderBrush}"  StrokeThickness="{StaticResource BezierthumbStrokeThickness}" Margin="4"/>
                                </Grid>
                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroup x:Name="ThumbStates">
                                        <VisualState x:Name="Pressed">
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetProperty="Opacity" Storyboard.TargetName="thumb"
                                   To="0.9" Duration="0"></DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)" To="1.3"
                                   Storyboard.TargetName="thumb" Duration="0"></DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" To="1.3"
                                   Storyboard.TargetName="thumb" Duration="0"></DoubleAnimation>

                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ellipse" Storyboard.TargetProperty="Fill">
                                                    <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ActiveBackgroundBrush}"/>
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ellipse" Storyboard.TargetProperty="Stroke">
                                                    <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ActiveBorderBrush}"/>
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>

                                        <VisualState x:Name="PointerOver">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ellipse" Storyboard.TargetProperty="Fill">
                                                    <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource HoverBackgroundBrush}"/>
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ellipse" Storyboard.TargetProperty="Stroke">
                                                    <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource HoverBorderBrush}"/>
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>

                                        <VisualState x:Name="Normal">
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetProperty="Opacity" Storyboard.TargetName="thumb"
                                   To="0.6" Duration="0"></DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)" To="1"
                                   Storyboard.TargetName="thumb" Duration="0"></DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" To="1"
                                   Storyboard.TargetName="thumb" Duration="0"></DoubleAnimation>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="Disabled">
                                            <Storyboard>
                                                <ColorAnimationUsingKeyFrames Storyboard.TargetName="ellipse" Storyboard.TargetProperty="Fill">
                                                    <DiscreteColorKeyFrame KeyTime="0" Value="Gray"/>

                                                </ColorAnimationUsingKeyFrames>
                                                <ColorAnimationUsingKeyFrames Storyboard.TargetName="ellipse" Storyboard.TargetProperty="Stroke">
                                                    <DiscreteColorKeyFrame KeyTime="0" Value="Gray"/>
                                                </ColorAnimationUsingKeyFrames>
                                                <DoubleAnimation Storyboard.TargetProperty="Opacity" Storyboard.TargetName="thumb"
                                     To="1" Duration="0"></DoubleAnimation>
                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                </VisualStateManager.VisualStateGroups>
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Trigger>

            <Trigger Property="ThumbType" Value="EndThumb">
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="diagram_localControls:DiagramThumb">
                            <Border x:Name="thumb"
    Background="{TemplateBinding Background}"
    BorderBrush="{TemplateBinding BorderBrush}"
    BorderThickness="{TemplateBinding BorderThickness}" Opacity="0.6" Width="25" Height="25"
      RenderTransformOrigin="0.5,0.5">
                                <Border.RenderTransform>
                                    <ScaleTransform></ScaleTransform>
                                </Border.RenderTransform>
                                <Grid>
                                    <Ellipse Fill="{StaticResource EndthumbFillBrush}"></Ellipse>
                                    <Ellipse x:Name="ellipse"  Fill="{StaticResource BackgroundBrush}" Stroke="{StaticResource EndthumbStrokeBrush}" StrokeThickness="{StaticResource EndthumbStrokeThickness}" Margin="4"/>
                                </Grid>
                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroup x:Name="ThumbStates">
                                        <VisualState x:Name="Normal">
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetProperty="Opacity" Storyboard.TargetName="thumb"
                                   To="0.6" Duration="0"></DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)" To="1"
                                   Storyboard.TargetName="thumb" Duration="0"></DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" To="1"
                                   Storyboard.TargetName="thumb" Duration="0"></DoubleAnimation>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="Pressed">
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetProperty="Opacity" Storyboard.TargetName="thumb"
                                   To="0.9" Duration="0"></DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)" To="1.5"
                                   Storyboard.TargetName="thumb" Duration="0"></DoubleAnimation>
                                                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)" To="1.5"
                                   Storyboard.TargetName="thumb" Duration="0"></DoubleAnimation>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="Disabled">
                                            <Storyboard>
                                                <ColorAnimationUsingKeyFrames Storyboard.TargetName="ellipse" Storyboard.TargetProperty="Fill">
                                                    <DiscreteColorKeyFrame KeyTime="0" Value="Gray"/>
                                                </ColorAnimationUsingKeyFrames>
                                                <ColorAnimationUsingKeyFrames Storyboard.TargetName="ellipse" Storyboard.TargetProperty="Stroke">
                                                    <DiscreteColorKeyFrame KeyTime="0" Value="Gray"/>
                                                </ColorAnimationUsingKeyFrames>
                                                <DoubleAnimation Storyboard.TargetProperty="Opacity" Storyboard.TargetName="thumb"
                                     To="1" Duration="0"></DoubleAnimation>
                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                </VisualStateManager.VisualStateGroups>
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Trigger>
        </Style.Triggers>
    </Style>

    <ObjectDataProvider x:Key="StretchEnums" MethodName="GetValues" ObjectType="{x:Type sys:Enum}">
        <ObjectDataProvider.MethodParameters>
            <x:Type TypeName="Stretch" />
        </ObjectDataProvider.MethodParameters>
    </ObjectDataProvider>

    <Style TargetType="diagram_stencil:SymbolGroup">
        <Setter Property="FontFamily" Value="Segoe UI Light"/>
        <Setter Property="FontSize" Value="22"/>
        <Setter Property="Foreground" Value="{StaticResource ContentForegroundBrush}"/>
        <Setter Property="Background" Value="{StaticResource ContentBackgroundBrush}"></Setter>
        <Setter Property="ItemsPanel">
            <Setter.Value>
                <ItemsPanelTemplate>
                    <diagram_panels:WrapPanel/>
                </ItemsPanelTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="HeaderTemplate">
            <Setter.Value>
                <DataTemplate>
                    <diagram_stencil:Header>
                        <diagram_stencil:Header.Template>
                            <ControlTemplate TargetType="diagram_stencil:Header">
                                <Grid>
                                    <Border x:Name="header" Background="{StaticResource BackgroundBrush}" BorderBrush="{StaticResource BorderBrush}" BorderThickness="0,0,0,1">
                                        <ContentPresenter Margin="10" Content="{Binding}"/>
                                    </Border>
                                    <VisualStateManager.VisualStateGroups>
                                        <VisualStateGroup x:Name="CommonStates">
                                            <VisualState x:Name="Normal">
                                            </VisualState>
                                            <VisualState x:Name="PointerOver">
                                                <Storyboard>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="header" Storyboard.TargetProperty="Background">
                                                        <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource HoverBackgroundBrush}"/>
                                                    </ObjectAnimationUsingKeyFrames>
                                                </Storyboard>
                                            </VisualState>
                                            <VisualState x:Name="Pressed">
                                                <Storyboard>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="header" Storyboard.TargetProperty="Background">
                                                        <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource ActiveBackgroundBrush}"/>
                                                    </ObjectAnimationUsingKeyFrames>                                                   
                                                </Storyboard>
                                            </VisualState>
                                            <VisualState x:Name="Expanded">
                                                <Storyboard>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="header" Storyboard.TargetProperty="Background">
                                                        <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource BackgroundBrush}"/>
                                                    </ObjectAnimationUsingKeyFrames>
                                                </Storyboard>
                                            </VisualState>
                                            <VisualState x:Name="Collapsed">
                                                <Storyboard>
                                                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="header" Storyboard.TargetProperty="Background">
                                                        <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource BackgroundBrush}"/>
                                                    </ObjectAnimationUsingKeyFrames>
                                                </Storyboard>
                                            </VisualState>
                                        </VisualStateGroup>
                                    </VisualStateManager.VisualStateGroups>
                                </Grid>
                            </ControlTemplate>
                        </diagram_stencil:Header.Template>
                    </diagram_stencil:Header>
                </DataTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="diagram_stencil:SymbolGroup">
                    <Border
    Background="{TemplateBinding Background}"
    BorderBrush="{TemplateBinding BorderBrush}"
    BorderThickness="{TemplateBinding BorderThickness}">
                        <StackPanel>
                            <Grid x:Name="rootgrid">
                                <ContentPresenter x:Name="PART_Header"  Content="{TemplateBinding Header}"
              ContentTemplate="{TemplateBinding HeaderTemplate}">
                                </ContentPresenter>
                                <Path HorizontalAlignment="Right" x:Name="path1" VerticalAlignment="Center" Margin="0,0,20,0"  Data="M454.165,177.507L422.165,212.46 390.165,177.507 454.165,177.507z"  Stretch="Uniform" Fill="{StaticResource ExpanderPathFillThemeBrush}" Width="15" Height="15" RenderTransformOrigin="0.5,0.5">                                   
                                    <Path.RenderTransform>
                                        <TransformGroup>
                                            <ScaleTransform/>
                                            <SkewTransform/>
                                            <RotateTransform/>
                                            <TranslateTransform/>
                                        </TransformGroup>
                                    </Path.RenderTransform> 
                                </Path>
                            </Grid>
                            <ItemsPresenter RenderTransformOrigin="0.5,0.5" x:Name="symbolgroup" Visibility="{Binding IsExpanded, RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay,Converter={StaticResource VisibilityToBoolConverter}}">
                                <ItemsPresenter.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform/>
                                        <SkewTransform/>
                                        <RotateTransform/>
                                        <TranslateTransform/>
                                    </TransformGroup>
                                </ItemsPresenter.RenderTransform>

                            </ItemsPresenter>
                        </StackPanel>
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup>
                                <VisualState x:Name="Normal"/>
                                <VisualState x:Name="Expanded">
                                    <Storyboard>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[2].(RotateTransform.Angle)" Storyboard.TargetName="path1">
                                            <EasingDoubleKeyFrame KeyTime="0" Value="0"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.3" Value="180"/>
                                        </DoubleAnimationUsingKeyFrames>

                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Collapsed">
                                    <Storyboard>
                                        <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[2].(RotateTransform.Angle)" Storyboard.TargetName="path1">
                                            <EasingDoubleKeyFrame KeyTime="0" Value="180"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.3" Value="0"/>
                                        </DoubleAnimationUsingKeyFrames>

                                    </Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="diagram_localControls:ScrollViewer">
        <!--<Setter Property="HorizontalScrollMode" Value="Enabled" />-->
        <!--<Setter Property="VerticalScrollMode" Value="Enabled" />-->
        <!--<Setter Property="IsHorizontalRailEnabled" Value="True" />-->
        <!--<Setter Property="IsVerticalRailEnabled" Value="True" />-->
        <!--<Setter Property="IsTabStop" Value="False" />-->
        <!--<Setter Property="ZoomMode" Value="Enabled" />-->
        <Setter Property="HorizontalContentAlignment" Value="Left"/>
        <Setter Property="VerticalContentAlignment" Value="Top"/>
        <!--<Setter Property="VerticalScrollBarVisibility" Value="Visible"/>-->
        <Setter Property="Padding" Value="0"/>
        <Setter Property="BorderThickness" Value="{StaticResource ScrollViewerBorderThickness}"/>
        <Setter Property="BorderBrush" Value="{StaticResource ScrollViewerBorderBrush}"/>
        <Setter Property="Background" Value="{StaticResource ScrollViewerBackgroundBrush}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="diagram_localControls:ScrollViewer">
                    <Border BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
                        <!--<VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="ScrollingIndicatorStates">
                                <VisualStateGroup.Transitions>
                                    <VisualTransition From="MouseIndicator" To="NoIndicator">
                                        <Storyboard>
                                            <FadeOutThemeAnimation TargetName="ScrollBarSeparator" BeginTime="0:0:3" />
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="VerticalScrollBar"
                               Storyboard.TargetProperty="IndicatorMode">
                                                <DiscreteObjectKeyFrame KeyTime="0:0:3">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <ScrollingIndicatorMode>None</ScrollingIndicatorMode>
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="HorizontalScrollBar"
                               Storyboard.TargetProperty="IndicatorMode">
                                                <DiscreteObjectKeyFrame KeyTime="0:0:3">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <ScrollingIndicatorMode>None</ScrollingIndicatorMode>
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualTransition>
                                    <VisualTransition From="TouchIndicator" To="NoIndicator">
                                        <Storyboard>
                                            <FadeOutThemeAnimation TargetName="ScrollBarSeparator" />
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="VerticalScrollBar"
                               Storyboard.TargetProperty="IndicatorMode">
                                                <DiscreteObjectKeyFrame KeyTime="0:0:0.5">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <ScrollingIndicatorMode>None</ScrollingIndicatorMode>
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="HorizontalScrollBar"
                               Storyboard.TargetProperty="IndicatorMode">
                                                <DiscreteObjectKeyFrame KeyTime="0:0:0.5">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <ScrollingIndicatorMode>None</ScrollingIndicatorMode>
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualTransition>
                                </VisualStateGroup.Transitions>

                                <VisualState x:Name="NoIndicator">
                                    <Storyboard>
                                        <FadeOutThemeAnimation TargetName="ScrollBarSeparator" />
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="MouseIndicator">
                                    <Storyboard>
                                        <FadeInThemeAnimation TargetName="ScrollBarSeparator" />
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="VerticalScrollBar"
                               Storyboard.TargetProperty="IndicatorMode"
                               Duration="0">
                                            <DiscreteObjectKeyFrame KeyTime="0">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <ScrollingIndicatorMode>MouseIndicator</ScrollingIndicatorMode>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="HorizontalScrollBar"
                               Storyboard.TargetProperty="IndicatorMode"
                               Duration="0">
                                            <DiscreteObjectKeyFrame KeyTime="0">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <ScrollingIndicatorMode>MouseIndicator</ScrollingIndicatorMode>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>-->
                        <Grid Background="{TemplateBinding Background}">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <!--<ContentPresenter x:Name="ScrollContentPresenter"
                                      Grid.RowSpan="2"
                                      Grid.ColumnSpan="2" Content="{TemplateBinding Content}"/>-->
                            <Canvas Grid.RowSpan="2" Grid.ColumnSpan="2" x:Name="PART_DiagramCanvas">
                                <!-- Background -->
                                <!-- Gridlines -->
                                <!-- DiagramPage -->
                                <!-- Adorner -->
                            </Canvas>
                            <TextBlock Grid.Column="1" Text="{TemplateBinding MinimumY}" HorizontalAlignment="Left" VerticalAlignment="Bottom"/>
                            <ScrollBar x:Name="VerticalScrollBar"
                           Grid.Column="1"
                           IsTabStop="False"
                           Minimum="{TemplateBinding MinimumY}"
                           Maximum="{TemplateBinding MaximumY}"
                           SmallChange="3"
                           Orientation="Vertical"
                           Visibility="{TemplateBinding ComputedVerticalScrollBarVisibility}"
                           Value="{Binding Path=VerticalOffset, RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay}"
                           ViewportSize="{TemplateBinding ViewportHeight}"
                           HorizontalAlignment="Right"
                           LargeChange="{TemplateBinding ViewportHeight}"/>
                            <ScrollBar x:Name="HorizontalScrollBar"
                           IsTabStop="False"
                           Minimum="{TemplateBinding MinimumX}"
                           Maximum="{TemplateBinding MaximumX}"
                           Orientation="Horizontal"
                           Grid.Row="1"
                           Visibility="{TemplateBinding ComputedHorizontalScrollBarVisibility}"
                           Value="{Binding Path=HorizontalOffset, RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay}"
                           ViewportSize="{TemplateBinding ViewportWidth}"
                           SmallChange="3"
                           LargeChange="{TemplateBinding ViewportWidth}"/>
                            <Border x:Name="ScrollBarSeparator"
                      Grid.Row="1"
                      Grid.Column="1"
                      BorderThickness="0,0,1,1" />
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="diagram_printing:PrintPreviewControl">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="diagram_printing:PrintPreviewControl">
                    <Border Background="{StaticResource PrintBorderBackgroundBrush}">
                        <Grid Margin="10" x:Name="PrintableArea">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="30" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <TextBlock Text="Print Preview:" Margin="15,10,5,5" FontFamily="SeogeUI" FontSize="14" FontWeight="Bold" Foreground="{StaticResource PrintPreviewForegroundBrush}"  />
                            <Grid Grid.Row="1" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="33,10,38,20">
                                <Rectangle VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Fill="{StaticResource PrintPreviewFillBrush}">
                                    <Rectangle.RenderTransform>
                                        <TranslateTransform X="3" Y="3"/>
                                    </Rectangle.RenderTransform>
                                </Rectangle>
                                <Border VerticalAlignment="Center" HorizontalAlignment="Center" BorderThickness="1" 
                                            BorderBrush="{StaticResource PreviewBorderBrush}" Background="{StaticResource PreviewBackgroundBrush}">
                                    <Grid>
                                        <Rectangle Height="345" Width="250"/>
                                        <Grid>
                                            <Rectangle Margin="10" Stroke="{StaticResource PreviewStrokeBrush}" StrokeThickness="{StaticResource PreviewStrokeThickness}" StrokeDashArray="6" />
                                            <Viewbox Stretch="{Binding PrintPreviewStretch}" Margin="10" HorizontalAlignment="Center" VerticalAlignment="Center">
                                                <Rectangle x:Name="PreviewRect" Margin="10" Fill="{TemplateBinding Visual}" Width="100" Height="100" />
                                            </Viewbox>
                                        </Grid>
                                    </Grid>
                                </Border>
                            </Grid>
                            <TextBlock Grid.Row="0" Grid.Column="1" Margin="10,10,0,0" Text="Print Properties:" FontFamily="SeogeUI" FontSize="14" Foreground="{StaticResource PrintPreviewForegroundBrush}" FontWeight="Bold" />
                            <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Grid.Row="1" Grid.Column="1">
                                <StackPanel Grid.Row="0">
                                    <TextBlock Margin="10,10,0,5" Foreground="{StaticResource PrintStretchForegroundBrush}" FontFamily="SeogeUI" FontWeight="Normal" x:Name="diagram_Stretch" />
                                    <ComboBox x:Name="Print_Stretch" Margin="10,10,10,10" Background="{StaticResource PrintStretchBackgroundBrush}" BorderBrush="{StaticResource PrintStretchBorderBrush}" >
                                        <ComboBoxItem Name="diagarm_None"></ComboBoxItem>
                                        <ComboBoxItem Name="diagram_Fill"></ComboBoxItem>
                                        <ComboBoxItem Name="diagram_Uniform"></ComboBoxItem>
                                        <ComboBoxItem Name="diagram_UniformtoFill"></ComboBoxItem>
                                    </ComboBox>
                                    <Button Margin="10" HorizontalAlignment="Right" BorderBrush="{StaticResource PrintButtonBorderBrush}" Background="{StaticResource PrintButtonBackgroundBrush}" Foreground="{StaticResource PrintButtonForegroundBrush}" FontWeight="Bold" Width="80" Height="30" x:Name="diagram_advanced" Command="{TemplateBinding AdvancedCommand}" />

                                </StackPanel>
                                <Grid VerticalAlignment="Bottom" HorizontalAlignment="Stretch" Height="60">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Button Grid.Column="0" Margin="5,5,5,20" Background="{StaticResource PrintButtonBackgroundBrush}" BorderBrush="{StaticResource PrintButtonBorderBrush}" Foreground="{StaticResource PrintButtonForegroundBrush}" FontWeight="Bold" x:Name="diagram_print" Width="80" Height="30" Command="{TemplateBinding PrintCommand}"></Button>
                                    <Button Grid.Column="1" Margin="5,5,5,20" Background="{StaticResource PrintButtonBackgroundBrush}" BorderBrush="{StaticResource PrintButtonBorderBrush}" Foreground="{StaticResource PrintButtonForegroundBrush}" FontWeight="Bold" x:Name="diagram_cancel" Width="80" Height="30" Command="{TemplateBinding CancelCommand}" IsCancel="True"></Button>
                                </Grid>
                            </Grid>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="diagram_localControls:Overview">
        <Setter Property="UnFocusBrush" Value="{StaticResource OverviewUnFocusBrush}"/>
        <Setter Property="Background" Value="{StaticResource OverviewBackgroundBrush}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="diagram_localControls:Overview">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}">
                        <Border.Resources>
                            <diagram_util:GridLengthToDoubleConverter x:Key="GridLengthToDoubleConverter"/>
                        </Border.Resources>
                        <ScrollViewer 
                                      HorizontalScrollBarVisibility="Disabled" VerticalScrollBarVisibility="Disabled"
                                      Background="{TemplateBinding UnFocusBrush}">
                            <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
                                <diagram_panels:OverviewCustomPanel x:Name="PART_CustomPanel" HorizontalAlignment="Left" VerticalAlignment="Top">
                                    <Grid>
                                        <Grid.Background>
                                            <VisualBrush x:Name="PART_Preview" Stretch="Uniform"  Visual="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=ScrollContentTarget}"/>
                                        </Grid.Background>
                                    </Grid>
                                    <Grid UseLayoutRounding="False" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=VpOffsetY, Converter={StaticResource GridLengthToDoubleConverter}}"/>
                                            <RowDefinition Height="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=WindowHeight, Converter={StaticResource GridLengthToDoubleConverter}}"/>
                                            <RowDefinition Height="*"/>
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=VpOffsetX, Converter={StaticResource GridLengthToDoubleConverter}}"/>
                                            <ColumnDefinition Width="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=WindowWidth, Converter={StaticResource GridLengthToDoubleConverter}}"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <Rectangle Grid.Row="0" Grid.ColumnSpan="3" Fill="{TemplateBinding UnFocusBrush}"/>
                                        <Rectangle Grid.Row="1" Fill="{TemplateBinding UnFocusBrush}"/>
                                        <Rectangle Grid.Row="1" Grid.Column="2" Fill="{TemplateBinding UnFocusBrush}"/>
                                        <Rectangle Grid.Row="2" Grid.ColumnSpan="3" Fill="{TemplateBinding UnFocusBrush}"/>
                                    </Grid>
                                    <diagram_localControls:OverviewResizer HorizontalAlignment="Left" VerticalAlignment="Top" RenderTransform="{TemplateBinding ViewportPosition}">
                                        <diagram_localControls:OverviewResizer.Content>
                                            <Grid>
                                                <Rectangle HorizontalAlignment="Left" VerticalAlignment="Top" Fill="{TemplateBinding FocusBrush}"
                                                           Width="{TemplateBinding VpWidth}" Height="{TemplateBinding VpHeight}"/>
                                                <Thumb x:Name="PART_DragResizer">
                                                    <Thumb.Style>
                                                        <Style TargetType="Thumb">
                                                            <Setter Property="Template">
                                                                <Setter.Value>
                                                                    <ControlTemplate>
                                                                        <Border Background="Transparent"/>
                                                                    </ControlTemplate>
                                                                </Setter.Value>
                                                            </Setter>
                                                        </Style>
                                                    </Thumb.Style>
                                                </Thumb>
                                            </Grid>
                                        </diagram_localControls:OverviewResizer.Content>
                                    </diagram_localControls:OverviewResizer>

                                </diagram_panels:OverviewCustomPanel>
                            </Grid>
                        </ScrollViewer>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="OverviewResizerThumpTemplate" TargetType="Thumb">
        <Setter Property="IsTabStop" Value="false"/>
        <Setter Property="Background" Value="{StaticResource OverviewResizerBackgroundBrush}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Thumb">
                    <Border x:Name="PART_ResizerBorder1" Width="{TemplateBinding Width}" Height="{TemplateBinding Height}" HorizontalAlignment="{TemplateBinding HorizontalAlignment}"
                     VerticalAlignment="{TemplateBinding VerticalAlignment}" Margin="{TemplateBinding Margin}" Background="{TemplateBinding Background}"
                     BorderThickness="{StaticResource OverviewResizerBorderThickness}" />
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="diagram_localControls:OverviewResizer">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="diagram_localControls:OverviewResizer">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}">
                        <Grid>
                            <ContentPresenter Content="{TemplateBinding Content}"/>
                            <Thumb x:Name="PART_OverViewLeft" Style="{StaticResource OverviewResizerThumpTemplate}"  Width="4"  Margin="-2 0 0 0"
                     VerticalAlignment="Stretch" HorizontalAlignment="Left"/>
                            <Thumb  x:Name="PART_OverViewTop" Height="4"  Margin="0 -2 0 0"  Style="{StaticResource OverviewResizerThumpTemplate}"
                     VerticalAlignment="Top" HorizontalAlignment="Stretch"/>
                            <Thumb x:Name="PART_OverViewRight" Width="4"  Margin="0 0 -2 0" Style="{StaticResource OverviewResizerThumpTemplate}"
                     VerticalAlignment="Stretch" HorizontalAlignment="Right"/>
                            <Thumb x:Name="PART_OverViewBottom" Height="4" Margin="0 0 0 -2" Style="{StaticResource OverviewResizerThumpTemplate}"
                     VerticalAlignment="Bottom" HorizontalAlignment="Stretch"/>
                            <Thumb x:Name="PART_OverViewTopLeftCorner" Width="5" Height="5"  Margin="-3 -3 0 0" Style="{StaticResource OverviewResizerThumpTemplate}"
                     VerticalAlignment="Top" HorizontalAlignment="Left"/>
                            <Thumb x:Name="PART_OverViewTopRightCorner" Width="5" Height="5"  Margin="0 -3 -3 0" Style="{StaticResource OverviewResizerThumpTemplate}"
                     VerticalAlignment="Top" HorizontalAlignment="Right"/>
                            <Thumb x:Name="PART_OverViewBottomLeftCorner" Width="5" Height="5"  Margin="-3 0 0 -3" Style="{StaticResource OverviewResizerThumpTemplate}"
                     VerticalAlignment="Bottom" HorizontalAlignment="Left"/>
                            <Thumb x:Name="PART_OverViewBottomRightCorner" Width="5" Height="5"  Margin="0 0 -3 -3" Style="{StaticResource OverviewResizerThumpTemplate}"
                     VerticalAlignment="Bottom" HorizontalAlignment="Right"/>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>
